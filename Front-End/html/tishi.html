<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>

<script>


    try {     // 支持   ie不行 eage 可以 ，谷歌，火狐 都行 需要 https  或者是 localhost

        if(Notification.permission != "granted" ){  //如果该网站的 还没有被授予 通知权限需要向客户索要
            Notification.requestPermission();   //向用户询问
        }


        var notification = new Notification('消息通知1',   // 这个是title  是必传的
            {
                body: '用户发来了消息1',
                icon: 'https://g.csdnimg.cn/static/logo/favicon32.ico',// "图标路径，若不指定默认为favicon"
                tag: "singleGod1",   //标签   自己用来业务分别
                renotify: false,   //是否替换之前的通知项      会失效
                data:"用户发来了消息1" // 预留的数据  当点击事件或其他事件触发是可以获取 做业务
            });
        console.log(notification);

        notification.onclick = function(){
            this.close();     // 关闭当前 通知
            window.focus();    // 打开该通知所在的页面
            console.log(this.body);   //获取当前通知 带的数据
            open('http://baidu.com');  // 也可以打开对应的页面
            //直接写点击的处理方法即可
        };
        //可直接打开通知notification相关联的tab窗口

    }
    catch(err){
        //在此处理错误
        console.log(err);
    }



</script>